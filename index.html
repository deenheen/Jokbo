<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Med-Study OS : Context Sync Demo</title>
    <style>
        /* [ê¸°ë³¸ ìŠ¤íƒ€ì¼] */
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Pretendard', sans-serif; }
        body { background-color: #e9ecef; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; }

        /* íƒœë¸”ë¦¿ í”„ë ˆì„ */
        .tablet-frame {
            width: 1400px;
            height: 900px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 30px 80px rgba(0,0,0,0.2);
            border: 10px solid #222;
            display: flex;
            overflow: hidden;
        }

        /* --- ì™¼ìª½: PDF ë·°ì–´ --- */
        .left-panel {
            flex: 1.3;
            background-color: #525659;
            display: flex;
            flex-direction: column;
            border-right: 1px solid #ddd;
            position: relative;
        }
        
        /* í˜„ì¬ í˜ì´ì§€ í‘œì‹œê¸° (Floating Badge) */
        .current-page-badge {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            z-index: 100;
            backdrop-filter: blur(4px);
            transition: all 0.3s;
        }

        .pdf-scroll-area {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 40px; 
            scroll-behavior: smooth;
        }
        
        /* í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .pdf-page {
            width: 100%;
            max-width: 700px;
            height: 900px; /* í˜ì´ì§€ ë†’ì´ */
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            position: relative;
            padding: 50px;
            transition: transform 0.3s;
        }
        /* í™œì„±í™”ëœ í˜ì´ì§€ ê°•ì¡° */
        .pdf-page.active-view {
            border: 4px solid #2196f3;
            transform: scale(1.02);
        }

        .page-num { position: absolute; bottom: 20px; right: 20px; color: #999; }
        .pdf-title { font-size: 24px; font-weight: bold; margin-bottom: 20px; color: #333; border-bottom: 2px solid #333; padding-bottom: 10px; }
        .pdf-text { font-size: 16px; line-height: 1.8; color: #444; text-align: justify; margin-bottom: 20px; }

        /* ë“œë˜ê·¸ëœ ë…¸íŠ¸ ìŠ¤íƒ€ì¼ */
        .dropped-note {
            position: absolute;
            width: 220px;
            background-color: #fff9c4;
            border-left: 5px solid #fbc02d;
            padding: 10px;
            font-size: 12px;
            color: #333;
            box-shadow: 2px 4px 10px rgba(0,0,0,0.15);
            border-radius: 0 8px 8px 0;
            cursor: pointer;
            z-index: 100;
        }
        .dropped-note:hover { transform: scale(1.05); }

        /* --- ì˜¤ë¥¸ìª½: íŒ¨ë„ --- */
        .right-panel {
            flex: 0.7;
            display: flex;
            flex-direction: column;
            background: #f8f9fa;
            border-left: 1px solid #ddd;
        }
        
        /* íƒ­ ë©”ë‰´ */
        .tabs { display: flex; border-bottom: 1px solid #ddd; background: white; }
        .tab { flex: 1; padding: 15px; text-align: center; cursor: pointer; font-weight: bold; color: #888; }
        .tab.active { color: #2196f3; border-bottom: 3px solid #2196f3; background: #f0f7ff; }
        
        .tab-content { flex: 1; overflow-y: auto; display: none; padding: 20px; }
        .tab-content.active { display: block; }

        /* [ì±„íŒ…] ìŠ¤íƒ€ì¼ */
        .chat-container { display: flex; flex-direction: column; gap: 15px; padding-bottom: 50px; }
        .msg-date { text-align: center; font-size: 12px; color: #aaa; margin: 20px 0; position: relative; }
        .msg-date::before { content:""; position: absolute; top: 50%; left: 0; width: 30%; height: 1px; background: #ddd; }
        .msg-date::after { content:""; position: absolute; top: 50%; right: 0; width: 30%; height: 1px; background: #ddd; }

        .bubble { 
            max-width: 90%; padding: 12px 16px; border-radius: 12px; font-size: 14px; line-height: 1.5; 
            transition: background 0.5s; /* ë¶€ë“œëŸ¬ìš´ í•˜ì´ë¼ì´íŠ¸ ì „í™˜ */
        }
        .user-msg { align-self: flex-end; background: #e9ecef; color: #333; border-bottom-right-radius: 2px; }
        .ai-msg { align-self: flex-start; background: #e3f2fd; color: #0d47a1; border-bottom-left-radius: 2px; cursor: grab; }
        
        /* í˜„ì¬ í˜ì´ì§€ì™€ ì—°ê´€ëœ ì±„íŒ… ê°•ì¡° íš¨ê³¼ */
        .active-context-bg {
            background-color: #fff176 !important; /* ë…¸ë€ìƒ‰ ê°•ì¡° */
            box-shadow: 0 0 15px rgba(255, 241, 118, 0.5);
            border: 2px solid #fbc02d;
        }

        /* [ì¡±ë³´] ìŠ¤íƒ€ì¼ */
        .jokbo-card { background: white; padding: 15px; border-radius: 8px; border: 1px solid #ddd; margin-bottom: 10px; display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */ }
        .jokbo-card.visible { display: block; animation: fadeIn 0.5s; }
        .badge { display: inline-block; padding: 3px 8px; background: #ffebee; color: #c62828; font-size: 11px; border-radius: 4px; font-weight: bold; margin-bottom: 5px;}

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    </style>
</head>
<body>

<div class="tablet-frame">
    <div class="left-panel">
        <div class="current-page-badge" id="pageBadge">Page 13 / 60</div>
        
        <div class="pdf-scroll-area" id="pdfArea" onscroll="detectPage()">
            
            <div class="pdf-page" id="p13" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">13</div>
                <div class="pdf-title">Chapter 4. ë‹¹ë‡¨ë³‘ì„± ì¼€í†¤ì‚°ì¦ (DKA)</div>
                <p class="pdf-text">
                    <strong>1. ì •ì˜ ë° ê°œìš”</strong><br>
                    ì¸ìŠë¦° ê²°í•ìœ¼ë¡œ ì¸í•œ ê³ í˜ˆë‹¹, ëŒ€ì‚¬ì„± ì‚°ì¦, ì¼€í†¤ì¦ì„ íŠ¹ì§•ìœ¼ë¡œ í•˜ëŠ” ê¸‰ì„± ëŒ€ì‚¬ í•©ë³‘ì¦ì´ë‹¤.<br><br>
                    <strong>2. ë³‘íƒœ ìƒë¦¬</strong><br>
                    ì¸ìŠë¦°ì´ ë¶€ì¡±í•˜ë©´ ì„¸í¬ê°€ í¬ë„ë‹¹ì„ ì“°ì§€ ëª»í•´ ì§€ë°©ì„ ë¶„í•´í•œë‹¤. ì´ë•Œ ê°„ì—ì„œ ì§€ë°©ì‚°ì´ ì‚°í™”ë˜ì–´ 'ì¼€í†¤ì²´'ê°€ ê³¼ë‹¤ ìƒì„±ëœë‹¤.
                </p>
                <div class="dropped-note" style="top: 300px; left: 400px;" onclick="focusChat('chat-13-2')">
                    ğŸ”— AI ë©”ëª¨: ì¼€í†¤ì²´ ìƒì„± ì›ë¦¬<br>(í´ë¦­ ì‹œ ì±„íŒ… ì´ë™)
                </div>
            </div>

            <div class="pdf-page" id="p14" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">14</div>
                <div class="pdf-title">Chapter 4. DKAì˜ ì„ìƒ ì¦ìƒ</div>
                <p class="pdf-text">
                    <strong>3. ì£¼ìš” ì¦ìƒ</strong><br>
                    ì´ˆê¸°ì—ëŠ” ë‹¤ë‡¨, ë‹¤ìŒ, ì „ì‹  ìœ„ì•½ê°ì´ ë‚˜íƒ€ë‚œë‹¤.<br>
                    ì‚°ì¦ì´ ì‹¬í•´ì§€ë©´ í˜¸í¡ ë³´ìƒê¸°ì „ìœ¼ë¡œ <strong>ì¿ ìŠ¤ë§ˆìš¸ í˜¸í¡(Kussmaul Breathing)</strong>ì´ ë‚˜íƒ€ë‚˜ë©°, í˜¸ê¸° ì‹œ ê³¼ì¼ ëƒ„ìƒˆê°€ ë‚œë‹¤.<br><br>
                    êµ¬í† , ë³µí†µì´ í”í•˜ì—¬ ê¸‰ì„± ì·Œì¥ì—¼ ë“±ìœ¼ë¡œ ì˜¤ì¸ë˜ê¸°ë„ í•œë‹¤.
                </p>
            </div>

            <div class="pdf-page" id="p15" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">15</div>
                <div class="pdf-title">Chapter 4. DKAì˜ ì¹˜ë£Œ ì›ì¹™</div>
                <p class="pdf-text">
                    <strong>4. ì¹˜ë£Œ (Treatment)</strong><br>
                    ì‘ê¸‰ ì¹˜ë£Œì˜ í•µì‹¬ì€ ìˆ˜ì•¡ ìš”ë²•(Hydration), ì¸ìŠë¦° íˆ¬ì—¬, ì „í•´ì§ˆ êµì •ì´ë‹¤.<br><br>
                    <span style="background:#fff59d">â€» ì£¼ì˜: í˜ˆì²­ ì¹¼ë¥¨(K+) ë†ë„ê°€ 3.3mEq/L ë¯¸ë§Œì¸ ê²½ìš°, ì¸ìŠë¦° íˆ¬ì—¬ ì „ ì¹¼ë¥¨ì„ ë¨¼ì € êµì •í•´ì•¼ í•œë‹¤.</span>
                </p>
            </div>

        </div>
    </div>

    <div class="right-panel">
        <div class="tabs">
            <div class="tab active" onclick="showTab('tab-chat')">AI ì±„íŒ… (History)</div>
            <div class="tab" onclick="showTab('tab-jokbo')">ê´€ë ¨ ì¡±ë³´</div>
        </div>

        <div id="tab-chat" class="tab-content active">
            <div class="chat-container">
                
                <div class="msg-date">Page 13 í•™ìŠµ ì¤‘ ì§ˆë¬¸ (3ì¼ ì „)</div>
                <div class="bubble user-msg">DKAê°€ ì •í™•íˆ ë­ì•¼?</div>
                <div class="bubble ai-msg" id="chat-13-1" draggable="true" ondragstart="drag(event)">
                    ì¸ìŠë¦° ë¶€ì¡±ìœ¼ë¡œ ì¼€í†¤ì‚°ì´ ìŒ“ì—¬ í˜ˆì•¡ì´ ì‚°ì„±í™”ë˜ëŠ” ì‘ê¸‰ ì§ˆí™˜ì…ë‹ˆë‹¤.
                </div>
                <div class="bubble user-msg">ì™œ ì‚°ì„±ì´ ë˜ëŠ” ê±°ì•¼?</div>
                <div class="bubble ai-msg" id="chat-13-2" draggable="true" ondragstart="drag(event)">
                    í¬ë„ë‹¹ ëŒ€ì‹  ì§€ë°©ì„ íƒœìš°ë©´ì„œ ë¶€ì‚°ë¬¼ë¡œ 'ì¼€í†¤ì²´(ì‚°ì„± ë¬¼ì§ˆ)'ê°€ ë‚˜ì˜¤ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
                </div>

                <div class="msg-date">Page 14 í•™ìŠµ ì¤‘ ì§ˆë¬¸ (2ì¼ ì „)</div>
                <div class="bubble user-msg">ì¿ ìŠ¤ë§ˆìš¸ í˜¸í¡ì´ ë­ì•¼?</div>
                <div class="bubble ai-msg" id="chat-14-1" draggable="true" ondragstart="drag(event)">
                    ì‚°ì„± í˜ˆì•¡ì„ ì¤‘í™”ì‹œí‚¤ê¸° ìœ„í•´ CO2ë¥¼ ë‚´ë³´ë‚´ë ¤ê³  ê¹Šê³  ë¹ ë¥´ê²Œ ì‰¬ëŠ” í˜¸í¡ì…ë‹ˆë‹¤.
                </div>

                <div class="msg-date">Page 15 í•™ìŠµ ì¤‘ ì§ˆë¬¸ (ë°©ê¸ˆ ì „)</div>
                <div class="bubble user-msg">ì¹˜ë£Œí•  ë•Œ ì¸ìŠë¦°ë¶€í„° ì¤˜?</div>
                <div class="bubble ai-msg" id="chat-15-1" draggable="true" ondragstart="drag(event)">
                    ì•„ë‡¨! <strong>ìˆ˜ì•¡(Hydration)ì´ 1ìˆœìœ„</strong>ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì¹¼ë¥¨ ìˆ˜ì¹˜ë¥¼ ê¼­ í™•ì¸í•´ì•¼ í•´ìš”.
                </div>
                <div class="bubble ai-msg" id="chat-15-2" draggable="true" ondragstart="drag(event)">
                    ì¹¼ë¥¨ì´ ë‚®ì€ë° ì¸ìŠë¦°ì„ ì£¼ë©´ ì‹¬ì •ì§€ê°€ ì˜¬ ìˆ˜ ìˆì–´ ìœ„í—˜í•©ë‹ˆë‹¤.
                </div>

            </div>
        </div>

        <div id="tab-jokbo" class="tab-content">
            <div style="color:#666; font-size:13px; margin-bottom:15px;">
                í˜„ì¬ ë³´ê³  ê³„ì‹  í˜ì´ì§€ì™€ ê´€ë ¨ëœ ê¸°ì¶œë¬¸ì œì…ë‹ˆë‹¤.
            </div>
            
            <div class="jokbo-card p13-item visible">
                <span class="badge">23ë…„ ê¸°ì¶œ</span>
                <div>Q. DKAì˜ ë³‘íƒœìƒë¦¬ ì¤‘ ê°„ì—ì„œì˜ ì‘ìš©ìœ¼ë¡œ ì˜³ì€ ê²ƒì€?</div>
            </div>

            <div class="jokbo-card p14-item">
                <span class="badge">22ë…„ ê¸°ì¶œ</span>
                <div>Q. ì‘ê¸‰ì‹¤ ë‚´ì› í™˜ìê°€ ê³¼ì¼ ëƒ„ìƒˆê°€ ë‚˜ê³  ê¹Šì€ í˜¸í¡ì„ í•œë‹¤. ì§„ë‹¨ì€?</div>
            </div>

            <div class="jokbo-card p15-item">
                <span class="badge">24ë…„ ì¤‘ê°„</span>
                <div>Q. K+ 2.8ì¸ DKA í™˜ìì—ê²Œ ê°€ì¥ ë¨¼ì € ì‹œí–‰í•´ì•¼ í•  ì²˜ì¹˜ëŠ”?</div>
            </div>
        </div>

    </div>
</div>

<script>
    // [í•µì‹¬ ê¸°ëŠ¥ 1] ìŠ¤í¬ë¡¤ ê°ì§€ ë° ì»¨í…ìŠ¤íŠ¸ ë™ê¸°í™” (Sync Engine)
    function detectPage() {
        const scrollArea = document.getElementById('pdfArea');
        const pages = ['p13', 'p14', 'p15'];
        const viewCenter = scrollArea.scrollTop + (scrollArea.clientHeight / 2);

        pages.forEach(pageId => {
            const pageEl = document.getElementById(pageId);
            // í˜ì´ì§€ì˜ ìœ„/ì•„ë˜ ìœ„ì¹˜ ê³„ì‚°
            const pageTop = pageEl.offsetTop;
            const pageBottom = pageTop + pageEl.clientHeight;

            // í˜„ì¬ ë·°í¬íŠ¸ ì¤‘ì•™ì— ì´ í˜ì´ì§€ê°€ ìˆëŠ”ì§€ í™•ì¸
            if (viewCenter >= pageTop && viewCenter <= pageBottom) {
                // 1. í˜ì´ì§€ ë±ƒì§€ ì—…ë°ì´íŠ¸
                const pageNum = pageId.replace('p', '');
                document.getElementById('pageBadge').innerText = `Page ${pageNum} / 60`;
                
                // 2. í˜ì´ì§€ í…Œë‘ë¦¬ ê°•ì¡° (ì‹œê°ì  íš¨ê³¼)
                document.querySelectorAll('.pdf-page').forEach(p => p.classList.remove('active-view'));
                pageEl.classList.add('active-view');

                // 3. ì˜¤ë¥¸ìª½ íŒ¨ë„ ë™ê¸°í™” ì‹¤í–‰
                syncRightPanel(pageNum);
            }
        });
    }

    // [í•µì‹¬ ê¸°ëŠ¥ 2] ì˜¤ë¥¸ìª½ íŒ¨ë„ ì»¨í…ì¸  ë™ê¸°í™” ë¡œì§
    function syncRightPanel(pageNum) {
        // A. ì¡±ë³´ íƒ­ í•„í„°ë§
        document.querySelectorAll('.jokbo-card').forEach(card => card.classList.remove('visible')); // ë‹¤ ìˆ¨ê¹€
        document.querySelectorAll(`.p${pageNum}-item`).forEach(card => card.classList.add('visible')); // í•´ë‹¹ í˜ì´ì§€ë§Œ ë³´ì„

        // B. ì±„íŒ… íƒ­ ìŠ¤í¬ë¡¤ ì´ë™ (ê³¼ê±° ì§ˆë¬¸ ìœ„ì¹˜ë¡œ)
        // ê° í˜ì´ì§€ë³„ ëŒ€í‘œ ì§ˆë¬¸ ID ë§¤í•‘
        const chatMap = {
            '13': 'chat-13-1',
            '14': 'chat-14-1',
            '15': 'chat-15-1'
        };

        const targetChatId = chatMap[pageNum];
        if (targetChatId) {
            const chatEl = document.getElementById(targetChatId);
            
            // ì±„íŒ…ì°½ì´ í˜„ì¬ í™œì„±í™”ë˜ì–´ ìˆë‹¤ë©´ ìŠ¤í¬ë¡¤ ì´ë™
            const chatContainer = document.querySelector('.chat-container');
            
            // (ì˜µì…˜) ë„ˆë¬´ ìì£¼ ì›€ì§ì´ë©´ ì–´ì§€ëŸ¬ìš°ë‹ˆ, ì´ë¯¸ ë³´ì´ëŠ” ë²”ìœ„ë©´ ìŠ¤í‚µí•˜ëŠ” ë¡œì§ë„ ê°€ëŠ¥í•˜ì§€ë§Œ
            // ë°ëª¨ íš¨ê³¼ë¥¼ ìœ„í•´ ë¬´ì¡°ê±´ í•´ë‹¹ ìœ„ì¹˜ë¡œ ë¶€ë“œëŸ½ê²Œ ì´ë™ì‹œí‚µë‹ˆë‹¤.
            chatEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // "ì—¬ê¸°ê°€ ê´€ë ¨ ì§ˆë¬¸ì´ì•¼!" í•˜ê³  ì•Œë ¤ì£¼ëŠ” ê¹œë¹¡ì„ íš¨ê³¼
            highlightEffect(chatEl);
        }
    }

    // í•˜ì´ë¼ì´íŠ¸ íš¨ê³¼ í•¨ìˆ˜
    function highlightEffect(element) {
        // ê¸°ì¡´ í•˜ì´ë¼ì´íŠ¸ ì œê±°
        document.querySelectorAll('.active-context-bg').forEach(el => el.classList.remove('active-context-bg'));
        // ìƒˆ í•˜ì´ë¼ì´íŠ¸ ì¶”ê°€
        element.classList.add('active-context-bg');
        // 2ì´ˆ ë’¤ ì œê±° (ìì—°ìŠ¤ëŸ½ê²Œ)
        setTimeout(() => {
            element.classList.remove('active-context-bg');
        }, 2000);
    }

    // [ê¸°ëŠ¥ 3] Drag & Drop (ë‹¨ê¶Œí™”)
    function drag(ev) {
        ev.dataTransfer.setData("chatId", ev.target.id);
        ev.dataTransfer.setData("text", ev.target.innerText);
    }
    function allowDrop(ev) { ev.preventDefault(); }
    function drop(ev) {
        ev.preventDefault();
        const chatId = ev.dataTransfer.getData("chatId");
        const text = ev.dataTransfer.getData("text");
        
        // ì¢Œí‘œ ê³„ì‚°
        const rect = ev.currentTarget.getBoundingClientRect();
        const x = ev.clientX - rect.left;
        const y = ev.clientY - rect.top;

        // í¬ìŠ¤íŠ¸ì‡ ìƒì„±
        const note = document.createElement("div");
        note.className = "dropped-note";
        note.innerHTML = `ğŸ“Œ <b>AI ë©”ëª¨</b><br>${text.substring(0, 20)}...`;
        note.style.left = x + "px";
        note.style.top = y + "px";
        
        // í´ë¦­ ì‹œ ì—­ë§í¬ ì´ë²¤íŠ¸
        note.onclick = () => focusChat(chatId);
        
        ev.currentTarget.appendChild(note);
    }

    // [ê¸°ëŠ¥ 4] ì—­ë§í¬ (í¬ìŠ¤íŠ¸ì‡ í´ë¦­ -> ì±„íŒ… ì´ë™)
    function focusChat(elementId) {
        // íƒ­ì´ ì¡±ë³´ë¡œ ë˜ì–´ìˆì„ ìˆ˜ë„ ìˆìœ¼ë‹ˆ ì±„íŒ… íƒ­ìœ¼ë¡œ ê°•ì œ ì „í™˜
        showTab('tab-chat');
        
        const el = document.getElementById(elementId);
        if(el) {
            el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            highlightEffect(el);
        }
    }

    // íƒ­ ì „í™˜
    function showTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        
        // íƒ­ ë²„íŠ¼ ìŠ¤íƒ€ì¼
        if(tabId === 'tab-chat') document.querySelectorAll('.tab')[0].classList.add('active');
        else document.querySelectorAll('.tab')[1].classList.add('active');
    }

    // ì´ˆê¸° ì‹¤í–‰
    detectPage(); 
</script>

</body>
</html>
            align-items: center;
            padding: 0 20px;
            justify-content: space-between;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 10;
        }
        .pdf-scroll-area {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px; /* í˜ì´ì§€ ê°„ ê°„ê²© */
        }
        .pdf-page {
            width: 100%;
            max-width: 700px;
            height: 990px; /* A4 ë¹„ìœ¨ */
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            position: relative; /* í¬ìŠ¤íŠ¸ì‡ ìœ„ì¹˜ ê¸°ì¤€ */
            padding: 50px;
        }
        .page-num { position: absolute; bottom: 20px; right: 20px; color: #999; font-size: 12px; }
        .pdf-title { font-size: 22px; font-weight: bold; margin-bottom: 20px; color: #333; border-bottom: 2px solid #333; padding-bottom: 10px; }
        .pdf-h2 { font-size: 18px; font-weight: bold; margin-top: 30px; margin-bottom: 10px; color: #0056b3; }
        .pdf-text { font-size: 15px; line-height: 1.8; color: #444; text-align: justify; margin-bottom: 15px; }

        /* ë“œë¡­ëœ í¬ìŠ¤íŠ¸ì‡ ìŠ¤íƒ€ì¼ */
        .dropped-note {
            position: absolute;
            width: 220px;
            background-color: #fff9c4; /* ë…¸ë€ìƒ‰ í¬ìŠ¤íŠ¸ì‡ */
            border-left: 5px solid #fbc02d;
            padding: 10px;
            font-size: 12px;
            color: #333;
            box-shadow: 2px 4px 10px rgba(0,0,0,0.15);
            border-radius: 0 8px 8px 0;
            cursor: pointer;
            z-index: 100;
            transition: transform 0.2s;
        }
        .dropped-note:hover { transform: scale(1.05); }
        .dropped-note::after { content: "ğŸ”— í´ë¦­í•˜ì—¬ ì±„íŒ… ì´ë™"; display: block; margin-top: 8px; font-size: 10px; color: #999; text-align: right; }

        /* --- ì˜¤ë¥¸ìª½: AI ì±„íŒ… --- */
        .right-panel {
            flex: 0.7;
            display: flex;
            flex-direction: column;
            background: #ffffff;
        }
        .chat-header {
            height: 50px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            padding: 0 20px;
            font-weight: bold;
            color: #333;
            background: #f8f9fa;
        }
        .chat-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #fff;
            scroll-behavior: smooth; /* ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ */
        }
        
        /* ì±„íŒ… ë²„ë¸” */
        .message-group { margin-bottom: 20px; }
        .msg-role { font-size: 12px; margin-bottom: 5px; color: #888; font-weight: bold; }
        .bubble {
            max-width: 90%;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.6;
            position: relative;
        }
        
        /* ìœ ì € ì§ˆë¬¸ */
        .user-msg { align-items: flex-end; display: flex; flex-direction: column; }
        .user-msg .bubble { background-color: #e9ecef; color: #333; border-bottom-right-radius: 2px; }

        /* AI ë‹µë³€ (ë“œë˜ê·¸ ê°€ëŠ¥) */
        .ai-msg .bubble { 
            background-color: #e3f2fd; 
            color: #0d47a1; 
            border-bottom-left-radius: 2px; 
            cursor: grab; /* ë“œë˜ê·¸ ê°€ëŠ¥ ì»¤ì„œ */
            border: 1px solid transparent;
            transition: all 0.3s;
        }
        .ai-msg .bubble:hover {
            border-color: #2196f3;
            box-shadow: 0 2px 8px rgba(33, 150, 243, 0.2);
        }
        .ai-msg .bubble:active { cursor: grabbing; }
        
        /* ê°•ì¡° íš¨ê³¼ (Deep Link) */
        @keyframes highlight-flash {
            0% { background-color: #fff9c4; transform: scale(1); }
            50% { background-color: #ffe082; transform: scale(1.02); }
            100% { background-color: #e3f2fd; transform: scale(1); }
        }
        .highlighted {
            animation: highlight-flash 1.5s ease-in-out;
            border: 2px solid #fbc02d !important;
        }

        /* ì…ë ¥ì°½ */
        .input-area {
            padding: 20px;
            border-top: 1px solid #eee;
            background: white;
            display: flex;
            gap: 10px;
        }
        .input-box {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            outline: none;
            background: #f8f9fa;
        }
        .send-btn {
            width: 50px;
            height: 44px;
            background: #2196f3;
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        /* ë“œë˜ê·¸ ì•ˆë‚´ íŒ */
        .drag-hint {
            font-size: 11px; color: #2196f3; margin-top: 5px; 
            display: flex; align-items: center; gap: 4px;
        }
    </style>
</head>
<body>

<div class="tablet-frame">
    <div class="left-panel">
        <div class="pdf-header">
            <span>ğŸ“š [ë‚´ë¶„ë¹„ë‚´ê³¼] ë‹¹ë‡¨ë³‘ í•©ë³‘ì¦.pdf</span>
            <span>Page 13-15 / 60</span>
        </div>
        <div class="pdf-scroll-area" id="pdfArea">
            
            <div class="pdf-page" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">13</div>
                <div class="pdf-title">Chapter 4. ê¸‰ì„± í•©ë³‘ì¦: DKA & HHS</div>
                <div class="pdf-h2">1. ë‹¹ë‡¨ë³‘ì„± ì¼€í†¤ì‚°ì¦ (DKA)</div>
                <p class="pdf-text">
                    ì¸ìŠë¦°ì˜ ì ˆëŒ€ì  ê²°í•ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ê³ í˜ˆë‹¹ì„± ì‘ê¸‰ìƒí™©ì´ë‹¤. ì£¼ë¡œ ì œ1í˜• ë‹¹ë‡¨ë³‘ í™˜ìì—ê²Œì„œ ë°œìƒí•˜ë‚˜, ìŠ¤íŠ¸ë ˆìŠ¤ ìƒí™©(ê°ì—¼, ì™¸ìƒ ë“±)ì—ì„œëŠ” ì œ2í˜• ë‹¹ë‡¨ë³‘ í™˜ìì—ê²Œì„œë„ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤.
                </p>
                <div class="pdf-h2">2. ë³‘íƒœ ìƒë¦¬</div>
                <p class="pdf-text">
                    ì¸ìŠë¦° ë¶€ì¡±ì€ í¬ë„ë‹¹ ì´ìš©ì„ ê°ì†Œì‹œí‚¤ê³ , ê¸¸í•­ í˜¸ë¥´ëª¬(ê¸€ë£¨ì¹´ê³¤, ì¹´í…Œì½œì•„ë¯¼ ë“±)ì˜ ë¶„ë¹„ë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤. ì´ë¡œ ì¸í•´ ì§€ë°© ë¶„í•´ê°€ ì´‰ì§„ë˜ì–´ <strong>ìœ ë¦¬ ì§€ë°©ì‚°(Free Fatty Acid)</strong>ì´ ê°„ìœ¼ë¡œ ì´ë™í•˜ê³ , ì¼€í†¤ì²´(Ketone body)ë¡œ ì‚°í™”ëœë‹¤.
                </p>
                <div class="dropped-note" style="top: 350px; right: 30px;" onclick="scrollToChat('msg-1')">
                    <strong>ğŸ’¡ AI ìš”ì•½: DKA ê¸°ì „</strong><br>
                    ì§€ë°© ë¶„í•´ ì¦ê°€ â†’ ìœ ë¦¬ì§€ë°©ì‚° â†’ ê°„ì—ì„œ ì¼€í†¤ì²´ ìƒì„± (ì‚°ì„±) â†’ ëŒ€ì‚¬ì„± ì‚°ì¦ ìœ ë°œ
                </div>
            </div>

            <div class="pdf-page" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">14</div>
                <div class="pdf-h2">3. ì„ìƒ ì¦ìƒ ë° ì§•í›„</div>
                <p class="pdf-text">
                    ì´ˆê¸°ì—ëŠ” ë‹¤ë‡¨, ë‹¤ìŒ, ì²´ì¤‘ ê°ì†Œê°€ ë‚˜íƒ€ë‚˜ë©° ì ì°¨ ì˜¤ì‹¬, êµ¬í† , ë³µí†µìœ¼ë¡œ ì§„í–‰ëœë‹¤. ì‹¬í•œ ì‚°ì¦ì´ ë°œìƒí•˜ë©´ ë³´ìƒ ê¸°ì „ìœ¼ë¡œ <strong>ì¿ ìŠ¤ë§ˆìš¸ í˜¸í¡(Kussmaul breathing)</strong>ì´ ê´€ì°°ëœë‹¤. í˜¸ê¸° ì‹œ ê³¼ì¼ í–¥(ì•„ì„¸í†¤ ëƒ„ìƒˆ)ì´ íŠ¹ì§•ì ì´ë‹¤.
                </p>
                <div class="pdf-h2">4. ì§„ë‹¨ ê¸°ì¤€</div>
                <p class="pdf-text">
                    - í˜ˆë‹¹ > 250 mg/dL<br>
                    - ë™ë§¥í˜ˆ pH < 7.3<br>
                    - í˜ˆì²­ ì¤‘íƒ„ì‚°ì—¼ < 15 mEq/L<br>
                    - ì†Œë³€ ë˜ëŠ” í˜ˆì²­ ì¼€í†¤ ì–‘ì„±
                </p>
            </div>

            <div class="pdf-page" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">15</div>
                <div class="pdf-h2">5. ì¹˜ë£Œ (Treatment)</div>
                <p class="pdf-text">
                    ì¹˜ë£Œì˜ ëª©í‘œëŠ” ìˆœí™˜ í˜ˆì¥ëŸ‰ íšŒë³µ, ê³ í˜ˆë‹¹ ë° ì¼€í†¤ì‚°ì¦ êµì •, ì „í•´ì§ˆ ë¶ˆê· í˜• êµì •, ìœ ë°œ ì›ì¸ ì¹˜ë£Œì´ë‹¤.
                </p>
                <p class="pdf-text" style="background: #fff3cd; padding: 5px;">
                    <strong>â˜… ì¤‘ìš”:</strong> ì¹˜ë£Œì˜ ì²« ë‹¨ê³„ëŠ” ì ì ˆí•œ ìˆ˜ì•¡ ê³µê¸‰(Fluid Resuscitation)ì´ë‹¤. ì¸ìŠë¦° íˆ¬ì—¬ ì „, ë°˜ë“œì‹œ ì €ì¹¼ë¥¨í˜ˆì¦(Hypokalemia) ì—¬ë¶€ë¥¼ í™•ì¸í•´ì•¼ í•œë‹¤.
                </p>
            </div>

        </div>
    </div>

    <div class="right-panel">
        <div class="chat-header">
            <span>ğŸ¤– Med-Study AI Chat</span>
        </div>
        <div class="chat-container" id="chatContainer">
            
            <div class="message-group user-msg">
                <div class="msg-role">ë‚˜ (ë³¸ê³¼ 2í•™ë…„)</div>
                <div class="bubble">
                    DKAì—ì„œ ì™œ ì‚°ì¦ì´ ë°œìƒí•´? ê¸°ì „ ê°„ë‹¨íˆ ì„¤ëª…í•´ì¤˜.
                </div>
            </div>
            <div class="message-group ai-msg">
                <div class="msg-role">AI íŠœí„°</div>
                <div class="bubble" id="msg-1" draggable="true" ondragstart="drag(event)">
                    ì¸ìŠë¦°ì´ ë¶€ì¡±í•˜ë©´ ìš°ë¦¬ ëª¸ì€ í¬ë„ë‹¹ ëŒ€ì‹  <strong>ì§€ë°©ì„ ì—ë„ˆì§€ì›ìœ¼ë¡œ ì‚¬ìš©</strong>í•©ë‹ˆë‹¤.<br><br>
                    ì´ ê³¼ì •ì—ì„œ ì§€ë°©ì´ ë¶„í•´ë˜ì–´ 'ì¼€í†¤ì²´(Ketone bodies)'ë¼ëŠ” ì‚°ì„± ë¬¼ì§ˆì´ í˜ˆì•¡ ë‚´ì— ê³¼ë„í•˜ê²Œ ì¶•ì ë©ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ í˜ˆì•¡ì˜ pHê°€ ë‚®ì•„ì§€ëŠ” <strong>ëŒ€ì‚¬ì„± ì‚°ì¦</strong>ì´ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.
                    <div class="drag-hint">ğŸ‘† ë“œë˜ê·¸í•´ì„œ ê°•ì˜ë¡ì— ë¶™ì—¬ë³´ì„¸ìš”!</div>
                </div>
            </div>

            <div class="message-group user-msg">
                <div class="msg-role">ë‚˜ (ë³¸ê³¼ 2í•™ë…„)</div>
                <div class="bubble">
                    ì•„ ê·¸ë ‡êµ¬ë‚˜. ê·¸ëŸ¼ ì¦ìƒ ì¤‘ì— Kussmaul í˜¸í¡ì€ ì™œ ìƒê¸°ëŠ” ê±°ì•¼?
                </div>
            </div>
            <div class="message-group ai-msg">
                <div class="msg-role">AI íŠœí„°</div>
                <div class="bubble" id="msg-2" draggable="true" ondragstart="drag(event)">
                    <strong>ë³´ìƒ ê¸°ì „(Compensation)</strong> ë•Œë¬¸ì…ë‹ˆë‹¤.<br><br>
                    í˜ˆì•¡ì´ ì‚°ì„±í™”(Acidosis)ë˜ë©´, ìš°ë¦¬ ëª¸ì€ pHë¥¼ ì˜¬ë¦¬ê¸° ìœ„í•´ ì´ì‚°í™”íƒ„ì†Œ(CO2, ì‚°ì„±)ë¥¼ ëª¸ ë°–ìœ¼ë¡œ ë°°ì¶œí•˜ë ¤ê³  í•©ë‹ˆë‹¤. <br>
                    ê·¸ë˜ì„œ <strong>ê¹Šê³  ë¹ ë¥´ê²Œ ìˆ¨ì„ ì‰¬ì–´ CO2ë¥¼ ë‚ ë ¤ë²„ë¦¬ëŠ” í˜¸í¡ íŒ¨í„´</strong>ì¸ ì¿ ìŠ¤ë§ˆìš¸ í˜¸í¡ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
                    <div class="drag-hint">ğŸ‘† ë“œë˜ê·¸í•´ì„œ ê°•ì˜ë¡ì— ë¶™ì—¬ë³´ì„¸ìš”!</div>
                </div>
            </div>

            <div class="message-group user-msg">
                <div class="msg-role">ë‚˜ (ë³¸ê³¼ 2í•™ë…„)</div>
                <div class="bubble">
                    ì¹˜ë£Œí•  ë•Œ ì œì¼ ë¨¼ì € í•´ì•¼ í•  ê²Œ ë­ì•¼? ì¸ìŠë¦°?
                </div>
            </div>
            <div class="message-group ai-msg">
                <div class="msg-role">AI íŠœí„°</div>
                <div class="bubble" id="msg-3" draggable="true" ondragstart="drag(event)">
                    ì•„ë‹™ë‹ˆë‹¤! <strong>ê°€ì¥ ìš°ì„ ìˆœìœ„ëŠ” 'ìˆ˜ì•¡ ê³µê¸‰(Hydration)'</strong>ì…ë‹ˆë‹¤.<br><br>
                    í™˜ìëŠ” íƒˆìˆ˜ ìƒíƒœì´ë¯€ë¡œ ìƒë¦¬ì‹ì—¼ìˆ˜ë¥¼ í†µí•´ í˜ˆì¥ëŸ‰ì„ ë¨¼ì € íšŒë³µì‹œì¼œì•¼ í•©ë‹ˆë‹¤. ì¸ìŠë¦°ì€ ê·¸ ë‹¤ìŒì´ë©°, íŠ¹íˆ ì¹¼ë¥¨(K+) ìˆ˜ì¹˜ê°€ 3.3 ë¯¸ë§Œì´ë©´ <strong>ì¸ìŠë¦° ì£¼ì… ì „ ì¹¼ë¥¨ êµì •ì´ ì„ í–‰</strong>ë˜ì–´ì•¼ ë¶€ì •ë§¥ì„ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    <div class="drag-hint">ğŸ‘† ë“œë˜ê·¸í•´ì„œ ê°•ì˜ë¡ì— ë¶™ì—¬ë³´ì„¸ìš”!</div>
                </div>
            </div>

        </div>
        
        <div class="input-area">
            <input type="text" class="input-box" placeholder="ê°•ì˜ë¡ ë‚´ìš©ì— ëŒ€í•´ ì§ˆë¬¸í•´ë³´ì„¸ìš”...">
            <button class="send-btn">â¤</button>
        </div>
    </div>
</div>

<script>
    // ë“œë˜ê·¸ ì‹œì‘ ì‹œ ë°ì´í„° ì €ì¥
    function drag(ev) {
        // ë“œë˜ê·¸í•œ ì±„íŒ… ë²„ë¸”ì˜ IDì™€ í…ìŠ¤íŠ¸ ë‚´ìš©ì„ ì €ì¥
        ev.dataTransfer.setData("chatId", ev.target.id);
        ev.dataTransfer.setData("content", ev.target.innerText.replace("ğŸ‘† ë“œë˜ê·¸í•´ì„œ ê°•ì˜ë¡ì— ë¶™ì—¬ë³´ì„¸ìš”!", ""));
    }

    // ë“œë¡­ í—ˆìš©
    function allowDrop(ev) {
        ev.preventDefault();
    }

    // ë“œë¡­ ì‹œ í¬ìŠ¤íŠ¸ì‡ ìƒì„±
    function drop(ev) {
        ev.preventDefault();
        
        // ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        var chatId = ev.dataTransfer.getData("chatId");
        var content = ev.dataTransfer.getData("content");
        
        // ë“œë¡­ëœ ìœ„ì¹˜ ê³„ì‚° (í˜ì´ì§€ ê¸°ì¤€ ìƒëŒ€ì¢Œí‘œ)
        var rect = ev.currentTarget.getBoundingClientRect();
        var x = ev.clientX - rect.left;
        var y = ev.clientY - rect.top;

        // ìƒˆë¡œìš´ í¬ìŠ¤íŠ¸ì‡ ìš”ì†Œ ìƒì„±
        var newNote = document.createElement("div");
        newNote.className = "dropped-note";
        newNote.innerHTML = "<strong>ğŸ’¡ AI ë©”ëª¨</strong><br>" + content.substring(0, 30) + "..."; // ë‚´ìš© ìš”ì•½í•´ì„œ ë³´ì—¬ì¤Œ
        newNote.style.left = x + "px";
        newNote.style.top = y + "px";
        
        // í´ë¦­ ì‹œ ì—­ë°©í–¥ ë§í¬ í•¨ìˆ˜ ì—°ê²°
        newNote.onclick = function() { scrollToChat(chatId); };

        // ê°•ì˜ë¡ í˜ì´ì§€ì— ì¶”ê°€
        ev.currentTarget.appendChild(newNote);
    }

    // ì—­ë°©í–¥ ë§í¬ ê¸°ëŠ¥ (í¬ìŠ¤íŠ¸ì‡ í´ë¦­ -> ì±„íŒ… ì´ë™)
    function scrollToChat(elementId) {
        var targetElement = document.getElementById(elementId);
        if (targetElement) {
            // ì±„íŒ…ì°½ ë‚´ì—ì„œ í•´ë‹¹ ìœ„ì¹˜ë¡œ ìŠ¤í¬ë¡¤
            targetElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // ê°•ì¡° íš¨ê³¼ (í´ë˜ìŠ¤ ì¶”ê°€ í›„ ì œê±°)
            targetElement.classList.add('highlighted');
            setTimeout(() => {
                targetElement.classList.remove('highlighted');
            }, 1500);
        }
    }
</script>

</body>
</html>
            padding: 10px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
            font-size: 12px;
            border-radius: 4px;
            z-index: 10;
        }

        /* --- ì˜¤ë¥¸ìª½: í•™ìŠµ ë„êµ¬ (RAG Tools) --- */
        .right-panel {
            flex: 0.8; /* 6:4 ë¹„ìœ¨ ì¤‘ 4 */
            display: flex;
            flex-direction: column;
            background: white;
        }
        .tabs {
            display: flex;
            border-bottom: 1px solid #e0e0e0;
            height: 50px;
        }
        .tab {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 600;
            color: #888;
            cursor: pointer;
            transition: 0.2s;
            font-size: 14px;
        }
        .tab.active {
            color: #2196f3;
            border-bottom: 3px solid #2196f3;
            background-color: #f9fbff;
        }
        
        /* íƒ­ ë‚´ìš© ì˜ì—­ */
        .tab-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */
        }
        .tab-content.active { display: block; }

        /* ì¡±ë³´ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .q-card {
            background: white;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            cursor: grab;
            transition: 0.2s;
        }
        .q-card:hover { border-color: #2196f3; box-shadow: 0 4px 12px rgba(33, 150, 243, 0.1); }
        .q-badge {
            display: inline-block;
            background: #ffebee;
            color: #d32f2f;
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 4px;
            margin-bottom: 8px;
            font-weight: bold;
        }
        .q-text { font-size: 14px; color: #333; line-height: 1.5; }
        
        /* ì±„íŒ… ìŠ¤íƒ€ì¼ */
        .chat-bubble {
            background: #f1f3f5;
            padding: 12px;
            border-radius: 12px;
            margin-bottom: 10px;
            font-size: 14px;
            line-height: 1.5;
            color: #333;
        }
        .chat-bubble.ai { background: #e3f2fd; color: #0d47a1; }
        .chat-input-area {
            padding: 15px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }
        .chat-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            outline: none;
        }
        .send-btn {
            background: #2196f3;
            color: white;
            border: none;
            padding: 0 20px;
            border-radius: 8px;
            cursor: pointer;
        }

    </style>
</head>
<body>

    <div class="tablet-frame">
        <div class="left-panel">
            <div class="pdf-header">
                <span>[ë³¸ê³¼1] ë‚´ë¶„ë¹„í•™_ê°•ì˜ë¡_Week3.pdf</span>
                <span>Page 14 / 52</span>
            </div>
            <div class="pdf-content">
                <div class="pdf-page">
                    <div class="pdf-title">Chapter 3. ë‹¹ë‡¨ë³‘ì„± ì¼€í†¤ì‚°ì¦ (DKA)</div>
                    <p class="pdf-text">
                        ë‹¹ë‡¨ë³‘ì„± ì¼€í†¤ì‚°ì¦(DKA)ì€ ì¸ìŠë¦° ê²°í•ìœ¼ë¡œ ì¸í•œ ê¸‰ì„± ëŒ€ì‚¬ í•©ë³‘ì¦ì´ë‹¤. 
                        ì£¼ìš” ì¦ìƒìœ¼ë¡œëŠ” ê³ í˜ˆë‹¹, ëŒ€ì‚¬ì„± ì‚°ì¦, ì¼€í†¤ì¦ì´ ìˆë‹¤.<br><br>
                        1. ë³‘íƒœ ìƒë¦¬: ì¸ìŠë¦°ì´ ë¶€ì¡±í•˜ë©´ ì„¸í¬ ë‚´ë¡œ í¬ë„ë‹¹ì´ ë“¤ì–´ê°€ì§€ ëª»í•´ í˜ˆë‹¹ì´ ìƒìŠ¹í•œë‹¤. 
                        ì—ë„ˆì§€ì›ìœ¼ë¡œ ì§€ë°©ì„ ë¶„í•´í•˜ë©´ì„œ ì¼€í†¤ì²´ê°€ ìƒì„±ë˜ê³ , ì´ë¡œ ì¸í•´ í˜ˆì•¡ì´ ì‚°ì„±í™”ëœë‹¤.<br><br>
                        <span class="highlight">2. ì„ìƒ ì¦ìƒ:</span> ë‹¤ë‡¨, ë‹¤ìŒ, ì²´ì¤‘ ê°ì†Œê°€ ì„ í–‰ë˜ë©°, 
                        ì‹¬í•  ê²½ìš° Kussmaul í˜¸í¡(ê³¼í˜¸í¡)ê³¼ ì•„ì„¸í†¤ ëƒ„ìƒˆê°€ ë‚œë‹¤.<br><br>
                        3. ì¹˜ë£Œ ì›ì¹™: ìˆ˜ì•¡ ê³µê¸‰(Hydration), ì¸ìŠë¦° íˆ¬ì—¬, ì „í•´ì§ˆ êµì •ì´ í•„ìˆ˜ì ì´ë‹¤.
                    </p>

                    <div class="sticky-note">
                        <strong>ğŸ“Œ [23ë…„ ê¸°ì¶œ] ì—°ê²°ë¨</strong><br>
                        Q. DKA í™˜ìì˜ ì´ˆê¸° ìˆ˜ì•¡ ì¹˜ë£Œë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?
                    </div>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <div class="tabs">
                <div class="tab active" onclick="switchTab('jokbo')">ì¡±ë³´ ë§¤ì¹­</div>
                <div class="tab" onclick="switchTab('chat')">AI ì§ˆë¬¸</div>
                <div class="tab" onclick="switchTab('script')">ë…¹ìŒ ìš”ì•½</div>
            </div>

            <div id="jokbo" class="tab-content active">
                <div style="margin-bottom: 15px; font-size: 13px; color: #666;">
                    í˜„ì¬ ë³´ê³  ìˆëŠ” <strong>14í˜ì´ì§€</strong>ì™€ ê´€ë ¨ëœ ê¸°ì¶œë¬¸ì œì…ë‹ˆë‹¤.
                </div>
                
                <div class="q-card">
                    <span class="q-badge">2023 ì¤‘ê°„ê³ ì‚¬</span>
                    <div class="q-text">Q. 24ì„¸ ë‚¨ìê°€ ì˜ì‹ ì €í•˜ë¡œ ë‚´ì›í–ˆë‹¤. í˜¸í¡ ì‹œ ê³¼ì¼ ëƒ„ìƒˆê°€ ë‚˜ê³  í˜ˆë‹¹ì€ 450mg/dLì˜€ë‹¤. ì§„ë‹¨ì€?</div>
                </div>

                <div class="q-card" style="border: 2px solid #2196f3; background: #f0f7ff;">
                    <span class="q-badge">2022 ê¸°ì¶œ</span>
                    <div class="q-text">Q. DKA ì¹˜ë£Œ ì¤‘ ì¹¼ë¥¨(K+) ìˆ˜ì¹˜ê°€ 3.3mEq/Lì¼ ë•Œ ì¸ìŠë¦° íˆ¬ì—¬ ì „ ìš°ì„ í•´ì•¼ í•  ì²˜ì¹˜ëŠ”?</div>
                    <div style="font-size:11px; color:#2196f3; margin-top:5px;">ğŸ‘‰ ë“œë˜ê·¸í•˜ì—¬ ë³¸ë¬¸ì— ì¶”ê°€í•˜ì„¸ìš”!</div>
                </div>
            </div>

            <div id="chat" class="tab-content">
                <div class="chat-bubble">
                    <strong>AI íŠœí„°</strong><br>
                    ë³´ê³  ê³„ì‹  í˜ì´ì§€ì—ì„œ 'Kussmaul í˜¸í¡'ì— ëŒ€í•´ ë” ì„¤ëª…í•´ ë“œë¦´ê¹Œìš”?
                </div>
                <div class="chat-bubble ai">
                    <strong>ë‚˜</strong><br>
                    ì‘, ì™œ ë°œìƒí•˜ëŠ”ì§€ ê¸°ì „ ì„¤ëª…í•´ì¤˜.
                </div>
                <div class="chat-bubble">
                    <strong>AI íŠœí„°</strong><br>
                    DKAì—ì„œëŠ” ëŒ€ì‚¬ì„± ì‚°ì¦ì´ ë°œìƒí•˜ëŠ”ë°, ìš°ë¦¬ ëª¸ì€ ì´ë¥¼ ë³´ìƒí•˜ê¸° ìœ„í•´ CO2ë¥¼ ë°°ì¶œí•˜ë ¤ê³  í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ê¹Šê³  ë¹ ë¥¸ í˜¸í¡(Kussmaul breathing)ì„ í•˜ê²Œ ë©ë‹ˆë‹¤. 
                </div>
            </div>

            <div id="script" class="tab-content">
                <p style="font-size:14px; color:#555; line-height:1.6;">
                    <strong>[09:30] êµìˆ˜ë‹˜ ë§ì”€:</strong><br>
                    ì, ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê±´ Hydrationì´ì•¼. ì¸ìŠë¦°ë³´ë‹¤ ìˆ˜ì•¡ì´ ë¨¼ì €ë¼ëŠ” ê±° ì¡±ë³´ì— ìì£¼ ë‚˜ì˜¤ë‹ˆê¹Œ ê¼­ ì²´í¬í•´ë‘ì„¸ìš”. <br><br>
                    <strong>[09:35]</strong><br>
                    ê·¸ë¦¬ê³  ì¹¼ë¥¨ ìˆ˜ì¹˜ í™•ì¸ ì•ˆ í•˜ê³  ì¸ìŠë¦° ì£¼ë©´ ë¶€ì •ë§¥ ì˜¤ë‹ˆê¹Œ ì¡°ì‹¬í•´ì•¼ í•©ë‹ˆë‹¤.
                </p>
            </div>
            
            <div class="chat-input-area">
                <input type="text" class="chat-input" placeholder="ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”...">
                <button class="send-btn">ì „ì†¡</button>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tabId) {
            // ëª¨ë“  íƒ­ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
            
            // ì„ íƒëœ íƒ­ í™œì„±í™”
            document.getElementById(tabId).classList.add('active');
            
            // íƒ­ ë²„íŠ¼ ìŠ¤íƒ€ì¼ í™œì„±í™” (ê°„ë‹¨ êµ¬í˜„)
            const tabs = ['jokbo', 'chat', 'script'];
            const index = tabs.indexOf(tabId);
            document.querySelectorAll('.tab')[index].classList.add('active');
        }
    </script>
</body>
</html>
