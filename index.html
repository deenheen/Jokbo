<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Med-Study OS v7.0 (Full Content)</title>
    <style>
        /* [ê¸°ë³¸ ìŠ¤íƒ€ì¼] */
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Pretendard', sans-serif; }
        body { background-color: #e9ecef; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; }

        /* íƒœë¸”ë¦¿ í”„ë ˆì„ */
        .tablet-frame {
            width: 1400px; height: 900px; background: white; border-radius: 20px;
            box-shadow: 0 30px 80px rgba(0,0,0,0.2); border: 10px solid #222; display: flex; overflow: hidden;
        }

        /* --- ì™¼ìª½: PDF ë·°ì–´ --- */
        .left-panel {
            flex: 1.5; background-color: #525659; display: flex; flex-direction: column;
            border-right: 1px solid #ddd; position: relative;
        }
        
        .pdf-header {
            height: 50px; background: #323639; color: #f1f1f1; display: flex; align-items: center;
            padding: 0 20px; justify-content: space-between; font-size: 14px; z-index: 10;
        }

        .pdf-viewer-container {
            flex: 1; position: relative; overflow: hidden; background: #525659;
            display: flex; justify-content: center; align-items: center;
        }

        /* í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .pdf-page {
            width: 95%; height: 95%; background: white; box-shadow: 0 5px 20px rgba(0,0,0,0.5);
            padding: 50px; position: absolute; display: none; flex-direction: column;
            overflow-y: auto; border-radius: 4px;
        }
        .pdf-page.active { display: flex; animation: slideIn 0.3s ease-out; }

        @keyframes slideIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }

        /* PDF ë‚´ë¶€ íƒ€ì´í¬ê·¸ë˜í”¼ */
        .page-num { position: absolute; bottom: 20px; right: 20px; color: #999; font-size: 12px; }
        .pdf-title { font-size: 24px; font-weight: 800; margin-bottom: 20px; color: #1a237e; border-bottom: 3px solid #1a237e; padding-bottom: 15px; }
        .pdf-h2 { font-size: 17px; font-weight: 700; color: #0d47a1; margin-top: 15px; margin-bottom: 8px; border-left: 4px solid #2196f3; padding-left: 10px; }
        .pdf-text { font-size: 14px; line-height: 1.6; color: #333; text-align: justify; margin-bottom: 12px; }
        .highlight-box { background: #e3f2fd; padding: 12px; border-radius: 8px; border: 1px solid #bbdefb; font-size: 13px; margin: 10px 0; }
        .warn-box { background: #ffebee; padding: 12px; border-radius: 8px; border: 1px solid #ef9a9a; font-size: 13px; margin: 10px 0; color: #c62828; }
        .table-custom { width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 13px; }
        .table-custom th, .table-custom td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        .table-custom th { background: #f5f5f5; color: #333; }

        /* ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ */
        .nav-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            width: 50px; height: 50px; background: rgba(0,0,0,0.5); color: white;
            border-radius: 50%; display: flex; justify-content: center; align-items: center;
            cursor: pointer; font-size: 24px; z-index: 100; transition: 0.2s; user-select: none;
        }
        .nav-btn:hover { background: rgba(0,0,0,0.8); }
        .nav-prev { left: 15px; } .nav-next { right: 15px; }
        .nav-btn.disabled { opacity: 0.2; pointer-events: none; }

        /* ë“œë˜ê·¸ëœ ë©”ëª¨ */
        .dropped-note {
            position: absolute; width: 200px; background-color: #fff9c4; border-left: 4px solid #fbc02d;
            padding: 10px; font-size: 12px; color: #333; box-shadow: 2px 4px 8px rgba(0,0,0,0.15);
            border-radius: 0 6px 6px 0; cursor: pointer; z-index: 50; line-height: 1.4;
        }
        .dropped-note:hover { transform: scale(1.05); }

        /* --- ì˜¤ë¥¸ìª½: íŒ¨ë„ --- */
        .right-panel {
            flex: 0.7; display: flex; flex-direction: column; background: #f8f9fa; border-left: 1px solid #ddd; position: relative;
        }
        .tabs { display: flex; border-bottom: 1px solid #ddd; background: white; flex-shrink: 0; }
        .tab { flex: 1; padding: 15px 5px; text-align: center; cursor: pointer; font-weight: bold; color: #888; font-size: 13px; }
        .tab.active { color: #2196f3; border-bottom: 3px solid #2196f3; background: #f0f7ff; }
        
        .tab-content-container { flex: 1; overflow-y: auto; position: relative; scroll-behavior: smooth; }
        .tab-content { display: none; padding: 20px; padding-bottom: 90px; }
        .tab-content.active { display: block; }

        /* [ì±„íŒ… ìŠ¤íƒ€ì¼] */
        .chat-container { display: flex; flex-direction: column; gap: 12px; }
        .msg-date { text-align: center; font-size: 11px; color: #aaa; margin: 15px 0; position: relative; }
        .msg-date::before, .msg-date::after { content:""; position: absolute; top: 50%; width: 30%; height: 1px; background: #ddd; }
        .msg-date::before { left: 0; } .msg-date::after { right: 0; }
        
        .bubble { max-width: 90%; padding: 10px 14px; border-radius: 12px; font-size: 13px; line-height: 1.5; transition: background 0.5s; }
        .user-msg { align-self: flex-end; background: #e9ecef; color: #333; border-bottom-right-radius: 2px; }
        .ai-msg { align-self: flex-start; background: #e3f2fd; color: #0d47a1; border-bottom-left-radius: 2px; cursor: grab; }
        .ai-msg:hover { box-shadow: 0 2px 5px rgba(33, 150, 243, 0.2); }

        /* [ì¡±ë³´ ìŠ¤íƒ€ì¼] */
        .jokbo-card { background: white; padding: 15px; border-radius: 8px; border: 1px solid #e0e0e0; margin-bottom: 12px; display: none; }
        .jokbo-card.visible { display: block; animation: fadeIn 0.5s; }
        .badge { display: inline-block; padding: 2px 6px; background: #e8eaf6; color: #3949ab; font-size: 11px; border-radius: 4px; font-weight: bold; margin-bottom: 5px; margin-right: 5px; }
        .badge.exam { background: #ffebee; color: #c62828; }
        .q-text { font-size: 13px; color: #333; font-weight: 600; line-height: 1.4; }
        .options { margin-top: 8px; font-size: 12px; color: #555; padding-left: 8px; border-left: 2px solid #eee; }

        /* [ìŠ¤í¬ë¦½íŠ¸ ìŠ¤íƒ€ì¼] */
        .script-segment { background: white; padding: 12px; border-radius: 8px; border: 1px solid #eee; margin-bottom: 10px; transition: all 0.3s; }
        .script-header { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 11px; color: #666; }
        .speaker { font-weight: bold; color: #2196f3; }
        .timestamp { background: #f5f5f5; padding: 1px 5px; border-radius: 3px; font-family: monospace; }
        .script-text { font-size: 13px; line-height: 1.6; color: #424242; }

        /* [ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ ë°”] */
        .audio-player-bar {
            position: absolute; bottom: 0; left: 0; right: 0; height: 75px; background: white; border-top: 1px solid #ddd;
            display: flex; align-items: center; padding: 0 20px; gap: 15px; box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            display: none; z-index: 200;
        }
        .audio-player-bar.visible { display: flex; }
        .play-btn { width: 42px; height: 42px; background: #2196f3; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-size: 18px; cursor: pointer; flex-shrink: 0; }
        .timeline-container { flex: 1; display: flex; flex-direction: column; gap: 6px; }
        .timeline-bar { height: 6px; background: #eee; border-radius: 3px; position: relative; overflow: hidden; }
        .timeline-progress { position: absolute; left: 0; top: 0; height: 100%; width: 0%; background: #2196f3; transition: width 0.3s linear; }
        .time-info { display: flex; justify-content: space-between; font-size: 11px; color: #888; font-family: monospace; }
        .speed-control { font-size: 13px; font-weight: bold; color: #555; cursor: pointer; border: 1px solid #ddd; padding: 4px 8px; border-radius: 4px; }

        .active-context-bg { background-color: #fffde7 !important; border: 2px solid #fbc02d !important; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    </style>
</head>
<body>

<div class="tablet-frame">
    <div class="left-panel">
        <div class="pdf-header">
            <span>ğŸ“š [ë³¸ê³¼2] ë‚´ë¶„ë¹„í•™_Ch04_DKA_HHS.pdf</span>
            <span id="headerPageNum">Page 13 / 60</span>
        </div>
        
        <div class="pdf-viewer-container">
            <div class="nav-btn nav-prev disabled" onclick="changePage(-1)">â®</div>
            <div class="nav-btn nav-next" onclick="changePage(1)">â¯</div>

            <div class="pdf-page active" id="p13" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">13</div>
                <div class="pdf-title">1. Diabetic Ketoacidosis (DKA)</div>
                <div class="pdf-h2">Pathophysiology</div>
                <p class="pdf-text">ì¸ìŠë¦° ê²°í•ê³¼ ê¸¸í•­ í˜¸ë¥´ëª¬ ê³¼ë‹¤ë¡œ ì¸í•œ ê¸‰ì„± ëŒ€ì‚¬ í•©ë³‘ì¦. 3ëŒ€ ì§•í›„: ê³ í˜ˆë‹¹, ëŒ€ì‚¬ì„± ì‚°ì¦, ì¼€í†¤ì¦.</p>
                <div class="highlight-box">
                    <strong>Ketogenesis:</strong> ì§€ë°©ë¶„í•´(Lipolysis) ì¦ê°€ â†’ ê°„ì—ì„œ ìœ ë¦¬ì§€ë°©ì‚°(FFA) ì‚°í™” â†’ ì¼€í†¤ì²´ ìƒì„±
                </div>
                <div class="dropped-note" style="top:350px; left:400px;" onclick="focusChat('chat-13-1')">ğŸ“Œ AI: ì¼€í†¤ì²´ ìƒì„± ê¸°ì „</div>
            </div>

            <div class="pdf-page" id="p14" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">14</div>
                <div class="pdf-title">2. Clinical Manifestations</div>
                <div class="pdf-h2">Symptoms</div>
                <p class="pdf-text">ë‹¤ë‡¨, ë‹¤ìŒ, ì˜¤ì‹¬, êµ¬í† , ë³µí†µ(Acute Abdomen ìœ ì‚¬). íƒˆìˆ˜ ì¦ìƒ(ë¹ˆë§¥, ì €í˜ˆì••).</p>
                <div class="highlight-box"><strong>Kussmaul Breathing:</strong> ì‚°ì¦ ë³´ìƒì„ ìœ„í•œ ê³¼í˜¸í¡. ê³¼ì¼ ëƒ„ìƒˆ(Fruity odor).</div>
            </div>

            <div class="pdf-page" id="p15" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">15</div>
                <div class="pdf-title">3. Management: Fluid & Insulin</div>
                <div class="pdf-h2">Protocol</div>
                <p class="pdf-text">1. Fluid (NS 1L/hr) â†’ 2. Potassium Check â†’ 3. Insulin.</p>
                <div class="warn-box">âš ï¸ K+ < 3.3 ì´ë©´ Insulin ê¸ˆê¸°! (ì‹¬ì •ì§€ ìœ„í—˜)</div>
            </div>

            <div class="pdf-page" id="p16" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">16</div>
                <div class="pdf-title">3. Management: Electrolytes</div>
                <div class="pdf-h2">Bicarbonate ($HCO_3^-$)</div>
                <p class="pdf-text">ë£¨í‹´ íˆ¬ì—¬ëŠ” ê¶Œì¥ë˜ì§€ ì•ŠìŒ. Paradoxical CNS acidosis ìœ ë°œ ê°€ëŠ¥.</p>
                <div class="highlight-box"><strong>ì ì‘ì¦:</strong> pH < 6.9 ë¡œ ì‹¬ê°í•œ ì‚°ì¦ì¼ ë•Œë§Œ ê³ ë ¤.</div>
                <div class="dropped-note" style="top:300px; left:350px;" onclick="focusChat('chat-16-1')">ğŸ“Œ AI: ë¹„ë³¸ íˆ¬ì—¬ ê¸°ì¤€ (pH 6.9)</div>
            </div>

            <div class="pdf-page" id="p17" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">17</div>
                <div class="pdf-title">4. Complications</div>
                <div class="pdf-h2">Cerebral Edema (ë‡Œë¶€ì¢…)</div>
                <p class="pdf-text">ì†Œì•„ DKAì˜ ì£¼ìš” ì‚¬ë§ ì›ì¸. ê¸‰ê²©í•œ ìˆ˜ì•¡ ê³µê¸‰ì´ë‚˜ ì‚¼íˆ¬ì•• ì €í•˜ê°€ ì›ì¸.</p>
                <div class="warn-box">ì¦ìƒ: ì¹˜ë£Œ ì¤‘ ê°‘ì‘ìŠ¤ëŸ° ë‘í†µ, ì˜ì‹ ì €í•˜, ì„œë§¥ (Cushing reflex).</div>
            </div>

            <div class="pdf-page" id="p18" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">18</div>
                <div class="pdf-title">5. HHS (Hyperosmolar Hyperglycemic State)</div>
                <div class="pdf-h2">Definition</div>
                <p class="pdf-text">ì œ2í˜• ë‹¹ë‡¨ ë…¸ì¸ì—ê²Œ í˜¸ë°œ. ì‹¬í•œ ê³ í˜ˆë‹¹(>600), ê³ ì‚¼íˆ¬ì••(>320)ì´ íŠ¹ì§•ì´ë‚˜ <strong>ì¼€í†¤ì‚°ì¦ì€ ì—†ë‹¤.</strong></p>
                <div class="highlight-box">ì‚¬ë§ë¥ : DKA (<1%) vs HHS (10~20%) â†’ HHSê°€ ë” ì¹˜ëª…ì .</div>
                <div class="dropped-note" style="top:420px; left:400px;" onclick="focusChat('chat-18-1')">ğŸ“Œ AI: HHSê°€ ë” ìœ„í—˜í•œ ì´ìœ </div>
            </div>

            <div class="pdf-page" id="p19" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">19</div>
                <div class="pdf-title">6. Diagnosis of HHS</div>
                <table class="table-custom">
                    <tr><th>êµ¬ë¶„</th><th>DKA</th><th>HHS</th></tr>
                    <tr><td>Plasma Glucose</td><td>> 250</td><td>> 600</td></tr>
                    <tr><td>pH</td><td>< 7.3</td><td>> 7.3</td></tr>
                    <tr><td>Ketones</td><td>Positive</td><td>Small / None</td></tr>
                    <tr><td>Osmolality</td><td>Variable</td><td>> 320</td></tr>
                </table>
                <p class="pdf-text" style="margin-top:10px;">HHSì—ì„œëŠ” ì†ŒëŸ‰ì˜ ì¸ìŠë¦°ì´ ì§€ë°©ë¶„í•´(Lipolysis)ë¥¼ ì–µì œí•˜ë¯€ë¡œ ì¼€í†¤ì´ ì•ˆ ìƒê¸´ë‹¤.</p>
            </div>

            <div class="pdf-page" id="p20" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">20</div>
                <div class="pdf-title">7. Treatment of HHS</div>
                <div class="pdf-h2">Fluid Replacement</div>
                <p class="pdf-text">DKAë³´ë‹¤ íƒˆìˆ˜ê°€ í›¨ì”¬ ì‹¬í•¨ (ìˆ˜ë¶„ ê²°í• 9L ì´ìƒ). ì ê·¹ì ì¸ ìˆ˜ì•¡ ê³µê¸‰ì´ ì¤‘ìš”í•¨.</p>
                <div class="highlight-box">Na+ ìˆ˜ì¹˜ì— ë”°ë¼ ìˆ˜ì•¡ ì¢…ë¥˜ ê²°ì • (Normal vs Half Saline).</div>
            </div>

            <div class="pdf-page" id="p21" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">21</div>
                <div class="pdf-title">8. Hypoglycemia (ì €í˜ˆë‹¹)</div>
                <div class="pdf-h2">Whipple's Triad</div>
                <p class="pdf-text">1) ì €í˜ˆë‹¹ ì¦ìƒ (ì‹ì€ë•€, ë–¨ë¦¼, ì‹¬ê³„í•­ì§„)<br>2) í˜ˆì¥ í¬ë„ë‹¹ < 70 mg/dL<br>3) í¬ë„ë‹¹ íˆ¬ì—¬ í›„ ì¦ìƒ í˜¸ì „</p>
                <div class="warn-box">ì¹˜ë£Œ: ì˜ì‹ ìˆìœ¼ë©´ ì£¼ìŠ¤/ì‚¬íƒ•, ì˜ì‹ ì—†ìœ¼ë©´ 50% í¬ë„ë‹¹(DW) ì •ì£¼.</div>
            </div>

            <div class="pdf-page" id="p22" ondrop="drop(event)" ondragover="allowDrop(event)">
                <div class="page-num">22</div>
                <div class="pdf-title">9. Sick Day Management</div>
                <div class="pdf-h2">Patient Education</div>
                <p class="pdf-text">ê°ê¸°, ì¥ì—¼ ë“±ìœ¼ë¡œ ì‹ì‚¬ë¥¼ ëª» í•˜ë”ë¼ë„ <strong>ì¸ìŠë¦°ì„ ì ˆëŒ€ ì¤‘ë‹¨í•˜ë©´ ì•ˆ ë¨.</strong> (ìŠ¤íŠ¸ë ˆìŠ¤ í˜¸ë¥´ëª¬ ë•Œë¬¸ì— í˜ˆë‹¹ ì˜¤ë¦„)</p>
                <div class="highlight-box">4ì‹œê°„ë§ˆë‹¤ ìê°€ í˜ˆë‹¹/ì¼€í†¤ ì¸¡ì • ë° ìˆ˜ë¶„ ì„­ì·¨ êµìœ¡.</div>
            </div>
        </div>
    </div>

    <div class="right-panel">
        <div class="tabs">
            <div class="tab active" onclick="showTab('tab-chat')">AI ì±„íŒ…</div>
            <div class="tab" onclick="showTab('tab-jokbo')">ê´€ë ¨ ì¡±ë³´</div>
            <div class="tab" onclick="showTab('tab-script')">ë…¹ìŒ ìŠ¤í¬ë¦½íŠ¸</div>
        </div>

        <div class="tab-content-container">
            <div id="tab-chat" class="tab-content active">
                <div class="chat-container">
                    <div class="msg-date">Page 13</div>
                    <div class="bubble user-msg">DKA ê¸°ì „ ìš”ì•½í•´ì¤˜.</div>
                    <div class="bubble ai-msg" id="chat-13-1" draggable="true" ondragstart="drag(event)">ì¸ìŠë¦° ë¶€ì¡± â†’ ì§€ë°© ë¶„í•´ â†’ ìœ ë¦¬ì§€ë°©ì‚° â†’ ê°„ì—ì„œ <strong>ì¼€í†¤ì²´(ì‚°ì„±)</strong> ìƒì„± â†’ ì‚°ì¦ ìœ ë°œ.</div>
                    
                    <div class="msg-date">Page 14</div>
                    <div class="bubble user-msg">Anion Gap ê³µì‹ì€?</div>
                    <div class="bubble ai-msg" id="chat-14-1" draggable="true" ondragstart="drag(event)">$Na^+ - (Cl^- + HCO_3^-)$. DKAëŠ” High AG ì‚°ì¦ì…ë‹ˆë‹¤.</div>

                    <div class="msg-date">Page 15</div>
                    <div class="bubble user-msg">ì¸ìŠë¦° ë¨¼ì € ì£¼ë©´ ì™œ ì•ˆ ë¼?</div>
                    <div class="bubble ai-msg" id="chat-15-1" draggable="true" ondragstart="drag(event)">ì €ì¹¼ë¥¨í˜ˆì¦ìœ¼ë¡œ <strong>ì‹¬ì •ì§€</strong>ê°€ ì˜¬ ìˆ˜ ìˆê³ , íƒˆìˆ˜ê°€ ì•…í™”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <strong>ìˆ˜ì•¡ì´ 1ìˆœìœ„</strong>ì…ë‹ˆë‹¤.</div>

                    <div class="msg-date">Page 16</div>
                    <div class="bubble user-msg">ë¹„ë³¸(Bicarb)ì€ ì–¸ì œ ì¨?</div>
                    <div class="bubble ai-msg" id="chat-16-1" draggable="true" ondragstart="drag(event)">ë£¨í‹´í•˜ê²Œ ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤. <strong>pH 6.9 ë¯¸ë§Œ</strong>ì˜ ì‹¬ê°í•œ ì‚°ì¦ì¼ ë•Œë§Œ ê³ ë ¤í•©ë‹ˆë‹¤.</div>
                    <div class="bubble ai-msg" id="chat-16-2" draggable="true" ondragstart="drag(event)">ë¶€ì‘ìš©ìœ¼ë¡œ ì €ì¹¼ë¥¨í˜ˆì¦ ì•…í™”, ì¡°ì§ ì‚°ì†Œ ê³µê¸‰ ì €í•˜ê°€ ìˆìŠµë‹ˆë‹¤.</div>

                    <div class="msg-date">Page 17</div>
                    <div class="bubble user-msg">ì¹˜ë£Œ ì¤‘ì— ì• ê°€ ë¨¸ë¦¬ ì•„í”„ëŒ€.</div>
                    <div class="bubble ai-msg" id="chat-17-1" draggable="true" ondragstart="drag(event)"><strong>ë‡Œë¶€ì¢…(Cerebral Edema)</strong>ì„ ì˜ì‹¬í•´ì•¼ í•©ë‹ˆë‹¤. ì¦‰ì‹œ Mannitol íˆ¬ì—¬í•˜ê³  ìˆ˜ì•¡ ì†ë„ë¥¼ ì¤„ì´ì„¸ìš”.</div>

                    <div class="msg-date">Page 18</div>
                    <div class="bubble user-msg">HHSê°€ DKAë³´ë‹¤ ì™œ ë” ì˜ ì£½ì–´?</div>
                    <div class="bubble ai-msg" id="chat-18-1" draggable="true" ondragstart="drag(event)">ê³ ë ¹ í™˜ìê°€ ë§ê³ , ì¦ìƒì´ ëŠ¦ê²Œ ë‚˜íƒ€ë‚˜ <strong>íƒˆìˆ˜ê°€ ê·¹ì‹¬í•˜ê¸° ë•Œë¬¸</strong>ì…ë‹ˆë‹¤.</div>

                    <div class="msg-date">Page 19</div>
                    <div class="bubble user-msg">HHSëŠ” ì™œ ì¼€í†¤ì´ ì—†ì–´?</div>
                    <div class="bubble ai-msg" id="chat-19-1" draggable="true" ondragstart="drag(event)">ì œ2í˜• ë‹¹ë‡¨ë¼ <strong>ì†ŒëŸ‰ì˜ ì¸ìŠë¦°</strong>ì´ ë‚¨ì•„ìˆì–´, ì§€ë°©ë¶„í•´(Lipolysis)ë¥¼ ì–µì œí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</div>

                    <div class="msg-date">Page 20</div>
                    <div class="bubble user-msg">HHS ìˆ˜ì•¡ ì¹˜ë£Œ ì°¨ì´ì ?</div>
                    <div class="bubble ai-msg" id="chat-20-1" draggable="true" ondragstart="drag(event)">DKAë³´ë‹¤ ìˆ˜ë¶„ ê²°í•ëŸ‰ì´ í›¨ì”¬ ë§ì•„ ë” ë§ì€ ì–‘ì˜ ìˆ˜ì•¡ì´ í•„ìš”í•©ë‹ˆë‹¤. Na ìˆ˜ì¹˜ì— ë”°ë¼ 0.45% Salineì„ ì“°ê¸°ë„ í•©ë‹ˆë‹¤.</div>

                    <div class="msg-date">Page 21</div>
                    <div class="bubble user-msg">Whipple's triad?</div>
                    <div class="bubble ai-msg" id="chat-21-1" draggable="true" ondragstart="drag(event)">ì €í˜ˆë‹¹ ì¦ìƒ + í˜ˆë‹¹ 70 ë¯¸ë§Œ + ë‹¹ íˆ¬ì—¬ í›„ í˜¸ì „. ì´ 3ê°€ì§€ì…ë‹ˆë‹¤.</div>

                    <div class="msg-date">Page 22</div>
                    <div class="bubble user-msg">ë°¥ ì•ˆ ë¨¹ìœ¼ë©´ ì¸ìŠë¦° ëŠìœ¼ë¼ê³  í•´?</div>
                    <div class="bubble ai-msg" id="chat-22-1" draggable="true" ondragstart="drag(event)">ì ˆëŒ€ ì•ˆ ë©ë‹ˆë‹¤! ì•„í”„ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ í˜¸ë¥´ëª¬ ë•Œë¬¸ì— í˜ˆë‹¹ì´ ì˜¤ë¥´ë¯€ë¡œ <strong>ì¸ìŠë¦° ìœ ì§€í•˜ê³  ì¼€í†¤ ì¸¡ì •</strong>í•´ì•¼ í•©ë‹ˆë‹¤.</div>
                </div>
            </div>

            <div id="tab-jokbo" class="tab-content">
                <div style="color:#666; font-size:13px; margin-bottom:15px; font-weight:bold;">í˜ì´ì§€ë³„ ê´€ë ¨ ê¸°ì¶œ</div>
                
                <div class="jokbo-card p13-item visible"><span class="badge exam">23ë…„</span> Q. DKA í™˜ìì˜ ì†Œë³€ ì¼€í†¤ ì–‘ì„±ì˜ ì›ì¸ ë¬¼ì§ˆì€? (ë‹µ: Beta-hydroxybutyrate)</div>
                <div class="jokbo-card p14-item"><span class="badge exam">22ë…„</span> Q. ê³¼ì¼ ëƒ„ìƒˆ, ê¹Šì€ í˜¸í¡. ë³µí†µ í˜¸ì†Œ í™˜ìì˜ ì§„ë‹¨ì€? (ë‹µ: DKA)</div>
                <div class="jokbo-card p15-item"><span class="badge exam">24ë…„</span> Q. K+ 2.8ì¸ í™˜ìì˜ ìš°ì„  ì²˜ì¹˜ëŠ”? (ë‹µ: KCl íˆ¬ì—¬ ë° ì¸ìŠë¦° ë³´ë¥˜)</div>
                <div class="jokbo-card p16-item"><span class="badge exam">21ë…„</span> Q. pH 7.1 ì¸ DKA í™˜ìì—ê²Œ ì¤‘íƒ„ì‚°ì—¼(Bicarb) íˆ¬ì—¬ ì—¬ë¶€ëŠ”? (ë‹µ: íˆ¬ì—¬í•˜ì§€ ì•ŠëŠ”ë‹¤)</div>
                <div class="jokbo-card p17-item"><span class="badge exam">20ë…„</span> Q. ì†Œì•„ DKA ì¹˜ë£Œ ì¤‘ ë‘í†µê³¼ ì„œë§¥ ë°œìƒ. ì¡°ì¹˜ëŠ”? (ë‹µ: Mannitol íˆ¬ì—¬)</div>
                <div class="jokbo-card p18-item"><span class="badge exam">23ë…„</span> Q. 70ì„¸ ë…¸ì¸, í˜ˆë‹¹ 800, pH 7.35, ì˜ì‹ í˜¼ë¯¸. ì§„ë‹¨ì€? (ë‹µ: HHS)</div>
                <div class="jokbo-card p19-item"><span class="badge exam">19ë…„</span> Q. DKAì™€ HHSì˜ ê°ë³„ì  ì¤‘ í‹€ë¦° ê²ƒì€? (ë‹µ: HHSëŠ” ì¼€í†¤ì‚°ì¦ì´ ì‹¬í•˜ë‹¤ - X)</div>
                <div class="jokbo-card p20-item"><span class="badge exam">22ë…„</span> Q. Na 155ì¸ HHS í™˜ìì˜ ì´ˆê¸° ìˆ˜ì•¡ì€? (ë‹µ: 0.45% Saline ê³ ë ¤)</div>
                <div class="jokbo-card p21-item"><span class="badge exam">24ë…„</span> Q. ì¸ìŠë¦° ì¹˜ë£Œ ì¤‘ ì‹ì€ë•€ê³¼ ë–¨ë¦¼. ê°€ì¥ ë¨¼ì € í•  ì¼ì€? (ë‹µ: í˜ˆë‹¹ ì¸¡ì •)</div>
                <div class="jokbo-card p22-item"><span class="badge exam">18ë…„</span> Q. ê°ê¸° ê±¸ë¦° 1í˜• ë‹¹ë‡¨ í™˜ì êµìœ¡ ë‚´ìš©ì€? (ë‹µ: ì¸ìŠë¦° ì¤‘ë‹¨í•˜ì§€ ë§ ê²ƒ)</div>
            </div>

            <div id="tab-script" class="tab-content">
                <div class="script-segment" id="script-13-1">
                    <div class="script-header"><span class="speaker">êµìˆ˜ë‹˜</span><span class="timestamp">09:30</span></div>
                    <div class="script-text">DKA ì •ì˜ ì¤‘ìš”í•©ë‹ˆë‹¤. ì¸ìŠë¦°ì´ ì—†ì–´ì„œ ì§€ë°© íƒœìš°ë‹¤ê°€ ëª¸ì´ ì‚°ì„± ë˜ëŠ” ê±°ì˜ˆìš”.</div>
                </div>
                <div class="script-segment" id="script-14-1">
                    <div class="script-header"><span class="speaker">êµìˆ˜ë‹˜</span><span class="timestamp">09:45</span></div>
                    <div class="script-text">ì¿ ìŠ¤ë§ˆìš¸ í˜¸í¡, ì•„ì„¸í†¤ ëƒ„ìƒˆ ê¸°ì–µí•˜ì„¸ìš”. ê·¸ë¦¬ê³  ë°° ì•„í”„ë‹¤ê³  ë§¹ì¥ìˆ˜ìˆ  ë³´ë‚´ë©´ ì•ˆ ë©ë‹ˆë‹¤.</div>
                </div>
                <div class="script-segment" id="script-15-1">
                    <div class="script-header"><span class="speaker">êµìˆ˜ë‹˜</span><span class="timestamp">10:05</span></div>
                    <div class="script-text">ì¹˜ë£Œ ìˆœì„œ ì¡±ë³´ ë‹¨ê³¨ì…ë‹ˆë‹¤. ìˆ˜ì•¡ ë¨¼ì €! ì¹¼ë¥¨ í™•ì¸í•˜ê³  ì¸ìŠë¦°! ì‚¬ëŒ ì£½ì´ì§€ ë§™ì‹œë‹¤.</div>
                </div>
                <div class="script-segment" id="script-16-1">
                    <div class="script-header"><span class="speaker">êµìˆ˜ë‹˜</span><span class="timestamp">10:20</span></div>
                    <div class="script-text">ë¹„ë³¸(Bicarb) í•¨ë¶€ë¡œ ì“°ì§€ ë§ˆì„¸ìš”. pH 6.9 ì•ˆ ë˜ë©´ ì³ë‹¤ë³´ì§€ë„ ë§ˆ.</div>
                </div>
                <div class="script-segment" id="script-17-1">
                    <div class="script-header"><span class="speaker">êµìˆ˜ë‹˜</span><span class="timestamp">10:35</span></div>
                    <div class="script-text">ì• ë“¤ ì¹˜ë£Œí•˜ë‹¤ê°€ ê°‘ìê¸° ë¨¸ë¦¬ ì•„í”„ë‹¤? ë‡Œë¶€ì¢…ì…ë‹ˆë‹¤. ë¬¼ ë„ˆë¬´ ë¹¨ë¦¬ ì£¼ë©´ ë‡Œ í„°ì ¸ìš”.</div>
                </div>
                <div class="script-segment" id="script-18-1">
                    <div class="script-header"><span class="speaker">êµìˆ˜ë‹˜</span><span class="timestamp">10:50</span></div>
                    <div class="script-text">HHSëŠ” í• ë¨¸ë‹ˆë“¤ì´ ìš”ì–‘ë³‘ì›ì—ì„œ ì˜µë‹ˆë‹¤. í˜ˆë‹¹ 1000 ì°ê³  ì™€ìš”. ì‚¬ë§ë¥  í›¨ì”¬ ë†’ìŠµë‹ˆë‹¤.</div>
                </div>
                <div class="script-segment" id="script-19-1">
                    <div class="script-header"><span class="speaker">êµìˆ˜ë‹˜</span><span class="timestamp">11:05</span></div>
                    <div class="script-text">HHSëŠ” ì™œ ì¼€í†¤ ì—†ëƒ? ì¸ìŠë¦°ì´ ì¥ê¼¬ë¦¬ë§Œí¼ì€ ìˆì–´ì„œ ì§€ë°© ë¶„í•´ëŠ” ë§‰ì•„ì£¼ëŠ” ê²ë‹ˆë‹¤.</div>
                </div>
                <div class="script-segment" id="script-20-1">
                    <div class="script-header"><span class="speaker">êµìˆ˜ë‹˜</span><span class="timestamp">11:15</span></div>
                    <div class="script-text">HHS í™˜ìëŠ” ë°”ì§ ë§ë¼ìˆì–´ìš”. ë¬¼(ìˆ˜ì•¡)ì„ ë“¤ì´ë¶€ì–´ì•¼ í•©ë‹ˆë‹¤.</div>
                </div>
                <div class="script-segment" id="script-21-1">
                    <div class="script-header"><span class="speaker">êµìˆ˜ë‹˜</span><span class="timestamp">11:30</span></div>
                    <div class="script-text">ì¹˜ë£Œ ì˜í•˜ë‹¤ê°€ ì €í˜ˆë‹¹ìœ¼ë¡œ ë³´ë‚´ëŠ” ê²½ìš° ë§ì•„ìš”. íœ©í”Œ íŠ¸ë¼ì´ì–´ë“œ(Whipple's triad) ì™¸ìš°ì„¸ìš”.</div>
                </div>
                <div class="script-segment" id="script-22-1">
                    <div class="script-header"><span class="speaker">êµìˆ˜ë‹˜</span><span class="timestamp">11:45</span></div>
                    <div class="script-text">Sick Day Rule í™˜ì êµìœ¡ í•„ìˆ˜ì…ë‹ˆë‹¤. ë°¥ ì•ˆ ë¨¹ì–´ë„ ì£¼ì‚¬ëŠ” ë†”ì•¼ í•œë‹¤ê³  ê¼­ ë§í•´ì£¼ì„¸ìš”.</div>
                </div>
                 <div style="height: 200px;"></div>
            </div>
        </div>

        <div class="audio-player-bar" id="audioPlayer">
            <div class="play-btn">â–¶</div>
            <div class="timeline-container">
                <div class="timeline-bar"><div class="timeline-progress" id="audioProgress"></div></div>
                <div class="time-info"><span id="currentTime">09:30</span><span>12:00</span></div>
            </div>
            <div class="speed-control">1.2x</div>
        </div>
    </div>
</div>

<script>
    // [ì„¤ì •: 10í˜ì´ì§€ ë°ì´í„°]
    const pages = ['p13', 'p14', 'p15', 'p16', 'p17', 'p18', 'p19', 'p20', 'p21', 'p22'];
    let currentPageIdx = 0;

    // [ê¸°ëŠ¥: í˜ì´ì§€ ì´ë™]
    function changePage(direction) {
        const nextIdx = currentPageIdx + direction;
        if (nextIdx < 0 || nextIdx >= pages.length) return;

        document.getElementById(pages[currentPageIdx]).classList.remove('active');
        currentPageIdx = nextIdx;
        const newPageId = pages[currentPageIdx];
        document.getElementById(newPageId).classList.add('active');
        
        const pageNum = newPageId.replace('p', '');
        document.getElementById('headerPageNum').innerText = `Page ${pageNum} / 60`;
        
        document.querySelector('.nav-prev').classList.toggle('disabled', currentPageIdx === 0);
        document.querySelector('.nav-next').classList.toggle('disabled', currentPageIdx === pages.length - 1);

        syncRightPanel(pageNum);
    }

    // [ê¸°ëŠ¥: ì»¨í…ì¸  ë™ê¸°í™” (10í˜ì´ì§€ ì „ì²´ ë§¤í•‘)]
    function syncRightPanel(pageNum) {
        // ì¡±ë³´ í•„í„°ë§
        document.querySelectorAll('.jokbo-card').forEach(card => card.classList.remove('visible'));
        document.querySelectorAll(`.p${pageNum}-item`).forEach(card => card.classList.add('visible'));

        // ì‹±í¬ ë°ì´í„° (ID ë° íƒ€ì„ë¼ì¸ ë§¤í•‘)
        const syncMap = {
            '13': { chat: 'chat-13-1', script: 'script-13-1', time: '09:30', progress: '5%' },
            '14': { chat: 'chat-14-1', script: 'script-14-1', time: '09:45', progress: '15%' },
            '15': { chat: 'chat-15-1', script: 'script-15-1', time: '10:05', progress: '25%' },
            '16': { chat: 'chat-16-1', script: 'script-16-1', time: '10:20', progress: '35%' },
            '17': { chat: 'chat-17-1', script: 'script-17-1', time: '10:35', progress: '45%' },
            '18': { chat: 'chat-18-1', script: 'script-18-1', time: '10:50', progress: '55%' },
            '19': { chat: 'chat-19-1', script: 'script-19-1', time: '11:05', progress: '65%' },
            '20': { chat: 'chat-20-1', script: 'script-20-1', time: '11:15', progress: '75%' },
            '21': { chat: 'chat-21-1', script: 'script-21-1', time: '11:30', progress: '85%' },
            '22': { chat: 'chat-22-1', script: 'script-22-1', time: '11:45', progress: '95%' }
        };

        const target = syncMap[pageNum];
        if (target) {
            const activeTabId = document.querySelector('.tab-content.active').id;
            let targetElId = null;
            if (activeTabId === 'tab-chat') targetElId = target.chat;
            else if (activeTabId === 'tab-script') targetElId = target.script;
            
            if (targetElId) {
                const targetEl = document.getElementById(targetElId);
                if (targetEl) {
                    const container = document.querySelector('.tab-content-container');
                    container.scrollTo({ top: targetEl.offsetTop - 80, behavior: 'smooth' });
                    highlightEffect(targetEl);
                }
            }
            document.getElementById('currentTime').innerText = target.time;
            document.getElementById('audioProgress').style.width = target.progress;
        }
    }

    function highlightEffect(element) {
        document.querySelectorAll('.active-context-bg').forEach(el => el.classList.remove('active-context-bg'));
        element.classList.add('active-context-bg');
        setTimeout(() => { element.classList.remove('active-context-bg'); }, 2000);
    }

    // [ê¸°ëŠ¥: íƒ­ ì „í™˜]
    function showTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        
        document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
        const tabs = ['tab-chat', 'tab-jokbo', 'tab-script'];
        document.querySelectorAll('.tab')[tabs.indexOf(tabId)].classList.add('active');

        const player = document.getElementById('audioPlayer');
        if (tabId === 'tab-script') player.classList.add('visible');
        else player.classList.remove('visible');
        
        const currentPageNum = pages[currentPageIdx].replace('p', '');
        syncRightPanel(currentPageNum);
    }

    // [ê¸°ëŠ¥: Drag & Drop]
    function drag(ev) { ev.dataTransfer.setData("chatId", ev.target.id); ev.dataTransfer.setData("text", ev.target.innerText); }
    function allowDrop(ev) { ev.preventDefault(); }
    function drop(ev) {
        ev.preventDefault();
        const chatId = ev.dataTransfer.getData("chatId"); 
        const tempDiv = document.createElement("div"); tempDiv.innerHTML = ev.dataTransfer.getData("text");
        const cleanText = tempDiv.textContent || tempDiv.innerText || "";
        const rect = ev.currentTarget.getBoundingClientRect();
        
        const note = document.createElement("div");
        note.className = "dropped-note"; 
        note.innerHTML = `ğŸ“Œ <strong>AI ë©”ëª¨</strong><br>${cleanText.substring(0, 30)}...`;
        note.style.left = (ev.clientX - rect.left) + "px"; 
        note.style.top = (ev.clientY - rect.top) + "px";
        note.onclick = () => focusChat(chatId);
        
        ev.currentTarget.appendChild(note);
    }

    function focusChat(elementId) {
        showTab('tab-chat');
        const el = document.getElementById(elementId);
        if(el) {
            document.querySelector('.tab-content-container').scrollTo({ top: el.offsetTop - 80, behavior: 'smooth' });
            highlightEffect(el);
        }
    }
</script>
</body>
</html>
